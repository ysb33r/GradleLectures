== Closure Delegation in Gradle

* In most cases the delegation will be entity the closure is passed to.
* Will also look at the `Project` and `ext` objects.
* The `Closure.delegate` property allows plugin writers ability to create beautiful DSLs

[source,groovy]
----
task runSomething(type : Exec ) { cmdline 'git' }
----

is roughly the equivalent of

[source,groovy]
----
ExecTask runSomething = new ExecTask()
runSomething.cmdline( 'git' )
----

== Gradle Tasks

Can be based upon a task type

[source,groovy]
----
include::{snippets}/task1.gradle[]
----

Can be free-form

[source,groovy]
----
include::{snippets}/task2.gradle[indent=0]
----

== Gradle Tasks : Configuration vs Action

* Use of `<< {}` adds action to be executed
** Tasks supplied by plugin will have default actions
* Use of `{}` configures a task

== Buildscript

* The `buildscript` closure is special
* It tells Gradle what to load into the classpath before evaluating the script itself.
* It also tells it where to look for those dependencies.
* Even though Gradle 2.1 has added a new way of adding external plugins, `buildscript` are
  much more flexible.

== Extensions

* Extensions are global configuration blocks added by plugins.
* Example: The `jruby-gradle-base` plugin will add a `jruby` block.

[source,groovy]
----
apply plugin: 'com.github.jruby-gradle.base'

jruby {
  defaultVersion = '1.7.11'
}
----