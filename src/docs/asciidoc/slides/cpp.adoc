== Building C++

== Building C++ - Tool Support

[cols="35%,60%,5%", options="header"]
|===
| Operating System
| Tool Chain
| Official

| Linux
| gcc, clang
| Y

.2+| MacOS X
| Xcode
| Y

| gcc-macports, clang-macports
| N

.2+| Windows
| Visual C++, gcc-cygwin32, gcc-mingw
| Y

| gcc-cygwin64
| N

| Unix-like
| gcc, clang
| N

|===

== Building C++ - Layout

* Need to change convention from traditional C++ projects
* `.cpp` files go in `src/${name}/cpp`
* Exported headers files go in `src/${name}/headers`
* Local header files should be in `src/${name}/cpp`
* Object files will end up in `${buildDir}/objs`
* Binary files will end up in `${buildDir}/binaries`

== Building C++ - Basics

[source,groovy]
----
include::{sourcedir}/cplusplus/build.gradle[tags=cpp_project]
----

== Building C++ - Executable

[source,groovy]
----
include::{sourcedir}/cplusplus/build.gradle[tags=cpp_model]
----

== Building C++ - Project layout

[source]
----
├── build.gradle
└── src
    └─── hello
        ├── cpp
        │   └─── hello.cpp
        │
        └── headers
            └─── hello.hpp
----

== Building C++ - Existing projects

* Source directories can be adjusted
* Alternative compiler locations

== Building C++ - Alternative source

[source,groovy]
----
include::{snippets}/custom-cpp.gradle[tags=cpp_source]
----

== Building C++ - Other Features

* Cross compilation
* Multi-architecture targets


== Building C++ - Weakness

* Currently only support CTest
* Only platform configuration tool support is `CMake`
* No Autotools equivalent
* DSL can be slicker